<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"neowei1987.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
<meta property="og:type" content="website">
<meta property="og:title" content="Neo&#39;s Blog">
<meta property="og:url" content="https://neowei1987.github.io/page/3/index.html">
<meta property="og:site_name" content="Neo&#39;s Blog">
<meta property="og:description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
<meta property="og:locale">
<meta property="article:author" content="NeoWei">
<meta property="article:tag" content="后端开发知识体系,知识体系构建,刷题技巧,本质思考">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://neowei1987.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-Hans'
  };
</script>
<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.css"><style>
#needsharebutton-postbottom {
  cursor: pointer;
  height: 26px;
  margin-top: 10px;
  position: relative;
}
#needsharebutton-postbottom .btn {
  border: 1px solid $btn-default-border-color;
  border-radius: 3px;
  display: initial;
  padding: 1px 4px;
}
</style>
  <title>Neo's Blog - 不抽象就无法深入思考<br>不还原就看不到本来面目!</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Neo's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">不抽象就无法深入思考<br>不还原就看不到本来面目!</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

		<div id="container">
		  <div class="content index posts-expand">
		    
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/structure_algorithm/algorithm/sort/merge_sort/index.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/structure_algorithm/algorithm/sort/merge_sort/index.html" class="post-title-link" itemprop="url">归并排序</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-01 22:17:48" itemprop="dateCreated datePublished" datetime="2022-11-01T22:17:48+08:00">2022-11-01</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
                  , 
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E7%BB%8F%E5%85%B8%E9%A2%98%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">经典题目</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/structure_algorithm/algorithm/sort/merge_sort/index.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/structure_algorithm/algorithm/sort/merge_sort/index.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>归并排序，是一种特别有用的排序算法；</p>
<p>它背后的算法思想是 分治。</p>
<p>归并排序同时也是一种思想，可以解决归并排序思想解决很多问题。</p>
<p>例如，计算逆序数。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//归并排序算法模板</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge_sort</span><span class="params">(<span class="keyword">int</span> q[], <span class="keyword">int</span> l, <span class="keyword">int</span> r)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l &gt;= r) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> mid = l + r &gt;&gt;<span class="number">1</span>;</span><br><span class="line">    merge_sort(q, l, mid);</span><br><span class="line">    merge_sort(q, mid + <span class="number">1</span>, r);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">tmp</span><span class="params">(r -l + <span class="number">1</span>)</span></span>;</span><br><span class="line">    <span class="keyword">int</span> k = <span class="number">0</span>, i = l, j = mid + <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid &amp;&amp; j &lt;= r ) &#123;</span><br><span class="line">        <span class="keyword">if</span> (q[i] &lt; q[j]) tmp[k++] = q[i++];</span><br><span class="line">        <span class="keyword">else</span>  tmp[k++] = q[j++];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (i &lt;= mid) tmp[k++] = q[i++];</span><br><span class="line">    <span class="keyword">while</span> (j &lt;= r) tmp[k++] = q[j++];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = l, k = <span class="number">0</span>; i &lt;= r; i++, k++) q[i] = tmp[k];</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/server/thread_model/thread_pool.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/server/thread_model/thread_pool.html" class="post-title-link" itemprop="url">高性能服务器系列-线程池</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-11-01 22:17:47" itemprop="dateCreated datePublished" datetime="2022-11-01T22:17:47+08:00">2022-11-01</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/server/thread_model/thread_pool.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/server/thread_model/thread_pool.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="核心参数"><a href="#核心参数" class="headerlink" title="核心参数"></a>核心参数</h3><p>1、corePoolSize:线程池中的常驻核心线程数</p>
<p>2、maximumPoolSize：线程池能容纳同时执行的最大线程数，此值必须&gt;=1</p>
<p>3、keepAliveTime：多余的空闲线程的存活时间</p>
<p>当前线程池数量超过corePoolSize时，当空闲的时间达到keepAliveTime值时，多余的空闲线程会被直接销毁直到只剩下corePoolSize个线程为止</p>
<p>4、timeUtile：keepAliveTime的单位</p>
<p>5、workQueue:任务队列，被提交但未被执行的任务</p>
<p>6、threadFactory：表示生成线程池中工作线程的线程工厂，用于创建线程一般用默认的即可。</p>
<p>7、handler：拒绝策略，表示当队列满了并且工作线程大于等于线程池的最大线程数</p>
<h3 id="工作流程"><a href="#工作流程" class="headerlink" title="工作流程"></a>工作流程</h3><p>线程池内部是通过队列+线程实现的，当我们利⽤线程池执⾏任务时：</p>
<ol>
<li>如果此时线程池中的线程数量⼩于corePoolSize，即使线程池中的线程都处于空闲状态，也要创建<br>新的线程来处理被添加的任务。</li>
<li>如果此时线程池中的线程数量等于corePoolSize，但是缓冲队列workQueue未满，那么任务被放⼊<br>缓冲队列。</li>
<li>如果此时线程池中的线程数量⼤于等于corePoolSize，缓冲队列workQueue满，并且线程池中的数<br>量⼩于maximumPoolSize，建新的线程来处理被添加的任务。</li>
<li>如果此时线程池中的线程数量⼤于corePoolSize，缓冲队列workQueue满，并且线程池中的数量等<br>于maximumPoolSize，那么通过 handler所指定的策略来处理此任务。</li>
<li>当线程池中的线程数量⼤于 corePoolSize时，如果某线程空闲时间超过keepAliveTime，线程将被<br>终⽌。这样，线程池可以动态的调整池中的线程数</li>
</ol>
<h3 id="合理线程数"><a href="#合理线程数" class="headerlink" title="合理线程数"></a>合理线程数</h3><p>CPU密集型：CPU核数+1个线程的线程池</p>
<p>IO密集型：a)CPU核数*2；b)CPU核数/(1-阻塞系数)。（阻塞系数：0.8～0.9）</p>
<h3 id="拒绝策略"><a href="#拒绝策略" class="headerlink" title="拒绝策略"></a>拒绝策略</h3><p>第一种拒绝策略是 AbortPolicy，这种拒绝策略在拒绝任务时，会直接抛出异常 RejectedExecutionException （属于RuntimeException），让你感知到任务被拒绝了，于是你便可以根据业务逻辑选择重试或者放弃提交等策略。</p>
<p>第二种拒绝策略是 DiscardPolicy，这种拒绝策略正如它的名字所描述的一样，当新任务被提交后直接被丢弃掉，也不会给你任何的通知，相对而言存在一定的风险，因为我们提交的时候根本不知道这个任务会被丢弃，可能造成数据丢失。</p>
<p>第三种拒绝策略是 DiscardOldestPolicy，如果线程池没被关闭且没有能力执行，则会丢弃任务队列中的头结点，通常是存活时间最长的任务，这种策略与第二种不同之处在于它丢弃的不是最新提交的，而是队列中存活时间最长的，这样就可以腾出空间给新提交的任务，但同理它也存在一定的数据丢失风险。</p>
<p>第四种拒绝策略是 CallerRunsPolicy，相对而言它就比较完善了，当有新任务提交后，如果线程池没被关闭且没有能力执行，则把这个任务交于提交任务的线程执行，也就是谁提交任务，谁就负责执行任务。这样做主要有两点好处。</p>
<p>第一点新提交的任务不会被丢弃，这样也就不会造成业务损失。<br>第二点好处是，由于谁提交任务谁就要负责执行任务，这样提交任务的线程就得负责执行任务，而执行任务又是比较耗时的，在这段期间，提交任务的线程被占用，也就不会再提交新的任务，减缓了任务提交的速度，相当于是一个负反馈。在此期间，线程池中的线程也可以充分利用这段时间来执行掉一部分任务，腾出一定的空间，相当于是给了线程池一定的缓冲期。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/core/growth/user_growth.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/core/growth/user_growth.html" class="post-title-link" itemprop="url">用户增长</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-29 09:49:36" itemprop="dateCreated datePublished" datetime="2022-10-29T09:49:36+08:00">2022-10-29</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/core/growth/user_growth.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/core/growth/user_growth.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>用户增长的前提是你的产品是<strong>满足需求</strong>的，且与<strong>市场是匹配</strong>的（用户来了之后才能够留得住），但到达用户存在阻碍。</p>
<p>所以用户增长的主要工作就是：要减少阻碍，降低交易成本（比如认知成本、信任成本、分享成本等等）。</p>
<p>开始前，先问问自己 7 个与增长相关的基础问题，带着问题思考更高效。</p>
<p>（1）XX公司的商业模式是什么？</p>
<p>（2）XX公司所在的社会环境是什么？</p>
<p>（3）XX公司处在企业生命周期的什么阶段？</p>
<p>（4）XX公司的增长战略、增长策略、增长战术是什么？</p>
<p>（5）XX公司的用户是谁？</p>
<p>（6）XX公司当前是怎么做用户增长？</p>
<p>（7）XX公司的北极星指标是什么？</p>
<p>（因为）不同商业模式、不同阶段，则有不同的增长侧重。所以谈用户增长不能不谈<strong>商业模式</strong>、<strong>社会大环境</strong>、<strong>企业生命周期</strong>。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/server/timer/time_wheel.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/server/timer/time_wheel.html" class="post-title-link" itemprop="url">定时器系列｜时间轮</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-29 09:49:36" itemprop="dateCreated datePublished" datetime="2022-10-29T09:49:36+08:00">2022-10-29</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/server/timer/time_wheel.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/server/timer/time_wheel.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>时间轮</p>
<p>逻辑形式：时间轮</p>
<p>实际结构：链表数组</p>
<p>实现原理：</p>
<p>最小轮子走一圈，它的上层轮子走一格。</p>
<p>假设图中每层轮子为20个格子，第一层轮子最小时间间隔为1ms，第二层为20ms，第三层为400ms，此时添加5ms后执行的任务，此时应该添加到第一层的第5格子中。</p>
<p>如果此时添加445ms后执行的任务，则第一层表示的时间跨度不够，第二层表示的时间跨度也不够，第三层表示的时间跨度足够，该任务应该放到第三层轮子第二格子中，该轮子指针指到第二格子中时，计算离任务启动时间还有多长时间，慢慢将该任务移动到底层轮子上，最终任务到期执行。</p>
<p>HashedWheelTimer时间轮是一个高性能，低消耗的数据结构，它适合用非准实时，延迟的短平快任务，例如心跳检测。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TimeWheel</span> &#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">push</span><span class="params">()</span> </span>&#123;</span><br><span class="line">         <span class="comment">//利用当前时间与currentTs，计算目标offset。</span></span><br><span class="line">         <span class="comment">//把事件插入到offset对应的ticks链表中</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//利用当前时间与currentTs，计算目标offset。</span></span><br><span class="line">        <span class="comment">//确认需要往前移动多少格</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//把过期事件，trigger掉；</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//然后移动currIdx与currentTs;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">background_thread</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//每秒钟一次运行，exTicks中1s中后就要运行的item移动到ticks[(currentIdx - 1) % N]。</span></span><br><span class="line">        <span class="comment">//此处考虑并发</span></span><br><span class="line">        <span class="comment">//对currentIdx的读访问要考虑并发，可以考虑用原子变量</span></span><br><span class="line">        <span class="comment">//对链表的访问可以用互斥锁（理论上：并不是有实际冲突，因为这个tick还有接近1分钟才会被访问到。）</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">map</span>&lt;ts, Item&gt; exTicks; <span class="comment">//超过1分钟的事件；</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;List&gt; ticks;  <span class="comment">//假设60个格子，只能承载最近60s的事件。</span></span><br><span class="line">    currentIdx;</span><br><span class="line">    currentTs;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/structure_algorithm/algorithm/dp/longest_palindrome.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/structure_algorithm/algorithm/dp/longest_palindrome.html" class="post-title-link" itemprop="url">动态规划系列-最长回文子序列</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-10-28 11:34:03" itemprop="dateCreated datePublished" datetime="2022-10-28T11:34:03+08:00">2022-10-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-19 11:46:25" itemprop="dateModified" datetime="2022-11-19T11:46:25+08:00">2022-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/structure_algorithm/algorithm/dp/longest_palindrome.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/structure_algorithm/algorithm/dp/longest_palindrome.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>设dp[i][j]为从i到j的字符串，回文子序列的最大长度</p>
<p>IF d[i] == d[j];<br>    dp[i][j] = dp[i + 1][j - 1] + 2<br>ELSE<br>    dp[i][j] = max(dp[i + 1][j], dp[i][j - 1])</p>
<p>如何遍历，通过图示法可以得知，首先沿着对角线，然后斜向上。</p>
<p>!(图示)[<a target="_blank" rel="noopener external nofollow noreferrer" href="https://pic3.zhimg.com/80/v2-1988e6664d09383c479fc879dcc419fa_1440w.webp">https://pic3.zhimg.com/80/v2-1988e6664d09383c479fc879dcc419fa_1440w.webp</a>]   </p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/core/product/think_about_product.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/core/product/think_about_product.html" class="post-title-link" itemprop="url">一个非专业人士关于产品的思考</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-04 22:55:48 / Modified: 00:03:03" itemprop="dateCreated datePublished" datetime="2022-03-04T22:55:48+08:00">2022-03-04</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%A7%E5%93%81/" itemprop="url" rel="index"><span itemprop="name">产品</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/core/product/think_about_product.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/core/product/think_about_product.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>作为一个时不时需要跟产品同学打交道的非专业人士（一介码农），有必要掌握一些一些关于产品的入门知识。</p>
<p>下面的这几个问题，我觉得是最基础的。本文就结合梁宁老师的《产品思维30讲》来尝试着回答一下。</p>
<ol>
<li>产品的本质是什么？</li>
<li>做产品的通用方法论是什么？</li>
<li>如何才能做出爆品？</li>
<li>产品创新有啥通用方法论吗？</li>
</ol>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/core/product/think_about_product.html#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/core/product/liangning_chanpinsiwei30.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/core/product/liangning_chanpinsiwei30.html" class="post-title-link" itemprop="url">产品思维30讲摘要</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-04 22:55:48" itemprop="dateCreated datePublished" datetime="2022-03-04T22:55:48+08:00">2022-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-04-23 00:11:03" itemprop="dateModified" datetime="2021-04-23T00:11:03+08:00">2021-04-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E4%BA%A7%E5%93%81/" itemprop="url" rel="index"><span itemprop="name">产品</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/core/product/liangning_chanpinsiwei30.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/core/product/liangning_chanpinsiwei30.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>作为一个时不时需要跟产品同学打交道的非专业人士（一介码农），有必要掌握一些一些关于产品的入门知识。</p>
<p>下面的这几个问题，我觉得是最基础的。本文就结合梁宁老师的《产品思维30讲》来尝试着回答一下。</p>
<ol>
<li>产品的本质是什么？</li>
<li>做产品的通用方法论是什么？</li>
<li>如何才能做出爆品？</li>
<li>产品创新有啥通用方法论吗？</li>
</ol>
<hr>
<p>第一个问题，产品的本质是什么？</p>
<p>我们首先考虑下你用过有哪些产品：<br>产品，有时候是一项服务，例如理发。<br>产品，有时候是一个实体，例如手机。<br>产品，有时候是一个网站，例如 www.baidu.com<br>产品，有时候是一个app，例如大众点评app</p>
<p>等等，某一个能产生现金流的债权也有可能被证券化，打包成一款产品，供其他人来购买。</p>
<p>让我们看一下百度百科上产品的定义：</p>
<blockquote>
<p>产品是指作为商品提供给市场，被人们使用和消费，并能满足人们某种需求的任何东西，包括有形的物品、无形的服务、组织、观念或它们的组合。</p>
</blockquote>
<p>从上面的定义可以看出，关于产品最重要的一点就是：它需要能够满足用户的某种需求。</p>
<p>用户需要被满足的需求有很多。例如，我老婆在购物时发现有一个商品一下买两个的话价格会便宜50%，可是呢？两个她又用不了。这时候，他就产生了一个需求：“如果有一个人跟我一起买就好了！”</p>
<p>还有一点，好多时候用户在出现某一款产品来满足他的“需求“之前根本就没有需求。Jobs就说过，用户根本不知道自己想要什么。例如，在汽车出来之前，人们出行都是靠马车的。那个时候，用户能够说出自己的真正需求吗？</p>
<p>说这么多，回答刚才的问题。产品的本质是什么？ 在我看来，产品就是用来满足用户需求的东西。这句话的重点不是主语，而是定语。好的产品与坏的产品的差别就在于：</p>
<ol>
<li>相比坏产品，好的产品更好的满足用户的需求。用户用起来更爽，更顺手。</li>
<li>相比坏产品，好的产品满足了用户真正的需求。好的产品，直击要害。</li>
</ol>
<p>所以，做好一款产品，最重要的是就是<strong>围绕着用户去思考，我可以解决哪些用户的哪些需求，给这些使用我产品的用户带来什么价值</strong>。</p>
<p>用一个公式来表示： 产品价值 = 细分用户 * 用户需求</p>
<p>为什么要细分用户呢？ 因为不同的用户有不同的需求，而一个产品不可能满足所有用户的需求。</p>
<hr>
<p>如何准确洞察用户的需求？</p>
<p>了解人有哪些</p>
<p>产品能力，就是这样训练一个人：<br>判断信息，抓住要点，整合有限的资源，把自己的价值打包成一个产品向世界交付，并且获得收获。</p>
<p><img src="http://cdn.b5mang.com/2021219103712.png" alt="产品思维"></p>
<p>微观视角<br>同理心 人性 心理学</p>
<p><img src="http://cdn.b5mang.com/2021219103743.png" alt="同理心"></p>
<p>用户体验，对人或者产品做一个体检：</p>
<p>任何产品的5个层次，从表到里：</p>
<p>【表层】感知层（让人直接感知到的外在）</p>
<p>【表层】角色框架层（集体赋予你的人格，通过教育习得，角色化）</p>
<p>资源结构层（一个人的财富、人脉、甚至精神资源，也就是一个人的历程）</p>
<p>【内核】能力圈（扩充能力圈，极其痛苦）</p>
<p>【内核】存在感（正是由于存在感不能被满足，才会去扩大自己的能力圈</p>
<p>现在，我们再把一个人从外而内的五层再拎一遍：</p>
<p>最外层是感知层，是你看到的一个人的样子，他的相貌、举止、着装。</p>
<p>其实当你看到这个人的时候，你要知道有一部分是天生的，有一部分其实是角色化的产物。<br>在感知层之内的第二层是角色框架层。</p>
<p>在角色框架层的再往里的第三层是资源结构层，资源不只是大家一般都会认为的人脉和财产，还包括了一个人的精神结构和他的精神资源。</p>
<p>在这个资源结构层再往后的一层就是能力圈，在能力圈的里面就是这个人对自己存在感的感知。<br>所以，如果你明确知道自己想成为一个什么样的存在，你就会不断地改变自己的能力圈，改变自己的资源，然后甚至改变自己外在的样子。</p>
<hr>
<p>学会读懂用户的情绪<br>    用户不会分层次的表达自己的体验，只会表达自己的情绪。</p>
<p>四种最基本的<strong>生物性情绪</strong><br>    愉悦、不爽、愤怒、恐惧</p>
<p>满足</p>
<p>愉悦，就是自己的个层面的需求被满足</p>
<p>一个蹦了很久侧需求，突然被满足，就叫爽</p>
<p>上瘾：（微小的愉悦感 + 突然被满足的爽感）= 确定性的满足</p>
<p>不爽：就是不满足</p>
<p>做产品：就是通过产品建立你与人之间的关系，通过产品来服务人，本质就是用户是否通过你的服务得到了满足。</p>
<p>这就是上帝给你初始化的操作系统的密码，你不厌其烦的地方，就是你的天分所在。</p>
<p>满足是度量产品、人与人关系的度量</p>
<p>被侵犯，因为侵入者的体量不同，而出现不同的情绪：愤怒、恐惧</p>
<p>愤怒：就是感觉到自己的边界被侵犯<br>恐惧：就是感觉到自己的边界被侵犯，而无可奈何</p>
<p>愤怒，就是一种恐惧，一种对自己无能的恐惧；羞耻感也是一种恐惧，一种对社会评论的恐惧；忧郁也是一种恐惧，来自无法逃避的想象的恐惧，一种持续的恐惧，内化为忧郁。</p>
<p>恐惧</p>
<p>恐惧是边界，看到了一个人怕什么，就看到了他的边界。</p>
<p>恐惧是动力，害怕失去现在的好生活，害怕给不了家人更好的生活，所以采取努力。</p>
<p>恐惧是痛点，做产品，要么满足人们让他爽，要么帮他们抵御恐惧。例如化妆产品可以抵御对青春逝去的恐惧，罗辑思维可以抵御人们对认知焦虑的恐惧。</p>
<hr>
<p>因为人会基于自身所处的<strong>角色</strong>、所在的<strong>场景</strong>和个人的<strong>认知</strong>判断，<strong>选择性</strong>地说一些他觉得正确的话。</p>
<p>优秀的销售人员（打破防御）与 优秀的产品经理（根本不让用户启动防御）</p>
<p>基于意识清醒的交流，达成交易的唯一方式：“让对方感觉占了便宜” —-打破防御</p>
<p>而好的产品经理，在于不让用户启动防御，顺应用户的潜意识。意识即防御。</p>
<hr>
<p>潜意识：1）童年  2）催眠（本质就是绕过防御）-重复（手段）/集体人格</p>
<p>集体人格 / 角色</p>
<p>集体，一堆角色，集体人格</p>
<p>集体人格的形成，角色化行为，就是一个人被教育的过程：</p>
<p>确定目标：给人们树立什么的观念<br>建立恐惧的边界（明确角色不可以做什么，如果违反了，就惩罚）<br>放入清晰的标的（明确角色只能做什么）<br>给予红利，然后让他产生路径依赖<br>不断重复</p>
<p>为什么通过教育让人形成集体人格呢？ 为了便于管理。所以，教育是违反人性的。</p>
<p>教育是按照人类对社会的美好期望来教育你，换句话来讲教育是理想化的</p>
<p>有经验的将军其实能够通过训练与管理，让一个集体的<strong>集体人格短时间压倒个体的脆弱</strong>。老大一声喊，大家就冲上去了，但是这是不得已才会发生的情况。</p>
<hr>
<p>自然（自发，符合人性） 与 应该（被教育，反人性）</p>
<p>人们只有在压力非常大的情况下，才会去扮演角色。除非你给他的压力非常到位，否则就不要对他做角色化预期。</p>
<p>角色化生存，角色化生存就是我们真实的生存处境。产品经理应该去角色化得认识、沟通、交互，才能得到真正的感情。</p>
<hr>
<p>自律 VS 自我，哪一个更贴近产品精神。</p>
<p>做产品经理的人善于感知，在已有的结论上建立新观点。而做其他管理的人更善于逻辑推理和总结归纳。</p>
<p>自律：靠恐惧驱动、规则边界，控制力是自律的延伸</p>
<p>被认为算“左脑思维”的人：<br>逻辑推理能力强、时间观念强，同时感受力差<br>因为感受力差，所以没那么敏感和情绪化，整个人体现为情绪稳定，甚至刻板；<br>更容易根据规则调适自己，更自律，更容易角色化。</p>
<p>自我：靠愉悦驱动，创造力是自我的延伸。</p>
<p>感受力强；<br>能在别人已经有结论的地方，建立自己的新观察，并且不太喜欢听已有的逻辑；<br>难以控制自己的情绪，能激情地表达自己，具有人格魅力。</p>
<p>看到自己的愉悦和恐惧，看清自己的天分，看到别人的愉悦和恐惧，了解他们的潜意识与集体人格，不要触发他们的防御。</p>
<hr>
<p>中观视角 日常产品工作视角</p>
<p>机会判断（一套底层思维，三个具体方法）发现机会</p>
<p><img src="http://cdn.b5mang.com/2021219103816.png" alt="机会判断"></p>
<p>机会判断</p>
<p>点线面体思考框架</p>
<p>穷人-点的努力<br>中产-至少要获得一次线性周期的收益<br>富人-借助面和体的崛起（国家、经济体、经济周期、产业、行业、领域）</p>
<p>做一个产品的时候，入手只能是一个点；但是：<br>这个点，是附着在哪个面（你在哪个公司上班）上？这个面是在和谁竞争，他能如何展开？<br>这个面，是附着在那个经济体上？这个经济体是在崛起还是在沉没？</p>
<p>1.描述一下，你现在的职业是什么样的一个点？<br>2.你所在的公司或者业务肯定是需要串联很多点的一条线，那你的这个点是在公司这条线的什么位置上？<br>3.这个公司附着在什么样的一个面上，谁在给你或你的公司赋能？这个面又是附着在哪个经济体上？<br>就好像在地球仪上，找到自己的位置点一样，请你用点线面体的框架，尝试标一下自己的位置。</p>
<hr>
<p>孙子兵法：</p>
<p>胜与不胜在于彼，败与不败在于己。（《孙子兵法》的全篇核心就是这个概念，意思就是说：我能不能赢了你，其实我做不了主，这是你的问题；但是我会不会输，会不会打光所有的牌，会不会下桌走人，那是我自己的问题。）</p>
<p>求之于势，不责于人。（一个人要做成一件事情，其本质上不在于你有多强，而是你要顺势而为，于万仞之上推千钧之石）</p>
<p>作为领导者，要自己去寻找有势能的<strong>面</strong>，而不能寄希望于员工的点。反过来你要想，大家把自己最好的“点“都给了你。在一个时间周期之后，你会回报给大家什么样的线性收益呢？</p>
<p>离开你情绪的点，去看线的方向，去预测这条线的周期，并且明确自己在周期的哪个位置，是哪个面再给你赋能。</p>
<p>你在一条正弦曲线的哪个位置？ 这个曲线是往下的还是向上的？</p>
<p>人生的选择远比努力更重要。<br>你的个人努力，只是在点、线、面、体的既定框架内，作为一个点的挣扎而已。</p>
<hr>
<p>从点开始：痛点、爽点、痒点都是产品机会</p>
<p>表象之下：</p>
<p>为什么？因为自我实现其实是一条漫长而痛苦的路。人的本性是懒惰的。你看到一个人展现出了勤奋、规整、自律，其实这是被一系列的恐惧（痛点）、集体人格、潜意识压迫，才会呈现出那个样子。</p>
<p>痛点：就是恐惧，打中人的恐惧</p>
<p>爽点：就是即时满足，用户有什么需求，你能够即时满足他</p>
<p>痒点：就是满足虚拟自我，要满足用户想象中的自己。例如，网红产品的流行。</p>
<hr>
<p>用户：两套经典的用户画像（其实两套用户画像系统）</p>
<p>第一套：羊群与草地</p>
<p>草地：你提供的产品，我们提供的草地，一定要让“第一只羊”爽，能够满足他们；</p>
<p>第一只羊（关键角色）：你的首批用户，羊死了，或者羊在草地上玩的不爽</p>
<p>你找到了这个用户，他可以在你这里得到即时满足玩得很开心，那么针对这只羊，针对这个用户的同类用户去做推广，你的产品就可以被快速地推开。</p>
<p>头羊（关键角色）：核心用户，自组织，具备网络效应；头羊的数量决定了你的网络效应有多大。</p>
<p>当你要评估一个产品或者一家公司的网络效应有多大时，一个非常简单的评估方式就是数一数它有多少头羊（比如说论坛的版主、Y公会的老大、微博的大V、重度用户、淘宝的店主，这些都是头羊。）</p>
<p>狼：变现用户</p>
<p>基本上所有玩互联网网络效应的、玩社区都是这一套用户画像。</p>
<p>例子：摄影网站的版主、BBS天涯的版主、百度贴吧的版主、淘宝的买家</p>
<p>第二套：大明、笨笨、小闲</p>
<ul>
<li>大明：对自己的需求非常明确、非常清晰（寻求的是价格、或者硬货；）</li>
</ul>
<p>大明用户需要的是搜索，因为他们对自动主动要找的东西是非常明确的。</p>
<p>最早的互联网电商：找到自己想要的，然后比价格。京东的成功，源于强大的体量，对供应链的挤压能力越来越强，能够越来越好的服务好大明用户。</p>
<p>用户特点：需求清晰明了（价格、帮我搞定事情）、没有忠诚度</p>
<ul>
<li>笨笨：我有大概的需求，但是没那么明确。</li>
</ul>
<p>女人买裙子，小红书，逛。</p>
<p>笨笨变大明：逛到要买的东西后，开始追求最便宜的。但是，如果笨笨决定了要买什么产品，那么下一秒有70%-80%的概率，笨笨就会变成大明，然后开始去追求价格。</p>
<p>一个经典场景是我在豆瓣东西上找买东西的灵感，接着到淘宝上去找最便宜的一件购买。</p>
<ul>
<li>小闲：我没有消费需求，我就是来打发时间的</li>
</ul>
<p>百度、京东服务小明，淘宝服务笨笨，那么腾讯就是服务小闲的。</p>
<p>QQ、微信朋友圈、游戏、看视频</p>
<p>腾讯用户往游戏、视频的转换率会很高，但是往电商转化却很低，源于场景不对。</p>
<hr>
<p>两套画像的关系 + 痛点、痒点、爽点</p>
<p>不管是小明、笨笨还是小闲，他们都是羊；你想服务哪种羊，就要按照三种不同的羊的需求，来管理你的草地，来制作你的产品。<br>具体到 痛点、痒点、爽点，你得让三种羊按照他们的心理预期，来吃一口你的草，如果吃得开心就再也不离开了。具体就是：解决了他的痛点、让他开心让他爽了。</p>
<p>狼：<br>腾讯像用户收费，剪羊毛<br>京东、淘宝向商家收费</p>
<hr>
<p>场景-设计产品时要包括产品的场景</p>
<p>什么是场景</p>
<p>场：一个场就是时间加空间，用户必须在这个空间里停留和消费（不停留，不是场景）<br>景：情景和互动。</p>
<p>当用户停留在这个空间的时间里，要有情景和互动让用户的情绪出发，并且裹挟用户的意见，这就是场景</p>
<p>新场景的出现，其实也是一个“体”，比如碎片时间就是一个新场景。</p>
<p>罗辑思维：碎片时间（一个新的场景） + 认知焦虑（用户痛点）</p>
<p>场景的核心就是在时间加空间的点上触发别人的情绪。</p>
<p>人的理智和意识都是把人往回拉的，而所有的情绪都是推动人的行动的。所以人会做某一个动作，会往前走，是被情绪所推动的。</p>
<p>只有能触发用户情绪的场景才是真正的流量入口。</p>
<p>互联网商业其实就三个核心词：产品、流量、转化率，也就是产品的比拼、流量的争夺、转化率的优化。这就是互联网竞争的全部。</p>
<hr>
<p>当你规划一个产品时，要问自己七个问题：<br>（1）我的产品解决了什么问题？是痛点、痒点还是爽点？<br>（2）我是在为谁解决这个问题？他得到即时满足了嘛？这是用户画像的问题<br>（3）有多少人需要解决这个问题？这个是市场规模的问题<br>（4）目前人们是如何解决这个问题的？这个是竞争分析的问题<br>（5）我的竞争方案为什么能够在市场竞争中胜出？你不要简单的看单点的竞争力，而是要看点线面体，谁给你赋能<br>（6）用户会在怎样的场景触发情绪？需要马上去解决问题，这是场景问题。<br>（7）当用户遇到问题的时候，他会想到哪个名字？</p>
<hr>
<p>系统能力（四个步骤，打造个人、公司核心能力）</p>
<p><img src="http://cdn.b5mang.com/2021219103838.png" alt="系统能力"></p>
<p>用系统能力给人提供确定性</p>
<h4 id="系统能力的定义"><a href="#系统能力的定义" class="headerlink" title="系统能力的定义"></a>系统能力的定义</h4><p>我们看到的所有结果，都是系统能力的产物。你可以回到《机会判断：点线面体的战略选择》一课里，思考为什么一个“点”没那么重要？因为任何一个“点”都附着在一条“线”上，每一个“点”其实都是一条“线”的截面。</p>
<p>这也是为什么结婚教练建议以结婚为目的的相亲，第<br>一次见面正常平淡即可，没有必要专门地表现自己，因为<strong>每个人的自然呈现都是系统能力的结果</strong>。</p>
<p>比如一个人好的身材，其实是长期自律的结果；一个人得体而有美感的着装，其实是长期的审美陶冶的产物；一个人的神情和谈吐，其实是学识和性情的产物。所以一个人很自然地展现的一切，是层层叠加、长期积累的系统能力的产物。</p>
<p>当你说你要做一个产品，你需要的是建设一套系统能力。</p>
<p>就好像你想拥有好的身材，就必须得有控制饮食和保持运动的系统能力一样。</p>
<p>整体流程和确定性</p>
<h5 id="产品视角-VS-服务视角"><a href="#产品视角-VS-服务视角" class="headerlink" title="产品视角 VS 服务视角"></a>产品视角 VS 服务视角</h5><p>以用户得到一个洞为目的去提供服务，而不是想着把要做一个打孔机，卖给卖出去，这就是产品与服务的区别。</p>
<p>如果总谈产品，容易以产品经理为中心，想着通过一款产品去改变世界。但</p>
<p>是如果出发点是服务，就会以用户获得和用户满足为中心来设计。</p>
<p>这两种方式的目的和实现途径完全不一样。</p>
<p>产品：ATM<br>服务：取现金<br>系统能力（确定性）：验证ID后，问你需要多少钱，然后吐钱给你。</p>
<h5 id="确定性的重要性"><a href="#确定性的重要性" class="headerlink" title="确定性的重要性"></a>确定性的重要性</h5><p>人们生来惧怕不确定性，所以当我们提供了某种确定性，其实就是解决了用户的某一个痛点。</p>
<p>你现在急需用钱，可是ATM能不能取到钱是不确定的，你害怕吗？</p>
<p>不确定性的东西是没有办法让你投入时间或者持续<strong>依赖</strong>的。</p>
<p>围绕ATM系统能力的设计和建设，所做的一切都是为了确保确定性。<br>（当你提供核心服务时，也分流了系统的核心资源）</p>
<h5 id="基于服务的产品思考流程"><a href="#基于服务的产品思考流程" class="headerlink" title="基于服务的产品思考流程"></a>基于服务的产品思考流程</h5><p>从存在感 到 能力圈层，再到资源层。<br>当你提供核心服务的时候，也分流了企业的核心资源。</p>
<p>基于服务的本质，我们需要的几个流程：<br>（1）战略判断：战略部门需要做一个决策，为什么要提供这个服务？提供服务对于企业、对于用户的价值是什么？可能的价值点～<br>（2）运营部门要对每一台ATM有没有实现战略诉求来做价值评估（看看取款机有没有人用）<br>（3）运营不闷对每个点的战略价值做完数据分析和价值评估后，需要哪个点存在，我就要保证它的服务可用（确保它能够吐出钱）<br>（4）维护ATM还需要更多事情，比如硬件管理<br>（5）客服管理</p>
<p>当你准备做一个产品时，基于系统能力，你需要考虑：</p>
<p>（1）你的产品在“点线面体”的什么位置？<br>（2）你提供的是一个什么样子的确定性<br>（3）为了确保确定性的稳定提供，你需要的系统能力需要包括哪些环节？你有<strong>足够的资本和能力来支撑</strong>所有的环节吗？</p>
<h4 id="系统效率"><a href="#系统效率" class="headerlink" title="系统效率"></a>系统效率</h4><p>产品是系统能力的产物；而企业则是效率分工的产物。</p>
<p>做产品就是在建设一套系统能力，提供并保障确定性，而效率则是这个系统能力的一个核心指标。</p>
<p>互联网思维最关键的两个点：一个是用户体验，一个是效率。小米的护城河：效率。 —-雷军</p>
<p>效率就是快</p>
<p>当你决定要做一个产品，准备搭建自己的系统能力时，你先问自己一句“我应该从哪个点来建立我<strong>系统性的效率优势</strong>？”因为没有效率优势，这个系统是一个没有竞争力的系统。</p>
<p>小米：集中力量打造一款手机；小米之家（逆袭）；小米小店</p>
<h4 id="迭代"><a href="#迭代" class="headerlink" title="迭代"></a>迭代</h4><p>迭代就是小步快跑，把最内核的部分先放出来，不断优化，小范围试错。</p>
<p>版本规划能力，产品就是要直指人心！</p>
<p>判断产品经理是否牛B，很重要的一条就在于判断他设计的产品第一个版本有多简单、直接、切中要害，能不能直指人心。</p>
<p>不自信，才附加更多功能，寻找心理依靠。</p>
<p>所以产品的核心功能点有效比什么都重要，基于核心功能附加的其他功能点没有那么重要，可以一步步来。</p>
<p><strong>圈层</strong> （B站的二次元圈层）</p>
<p><strong>圈层壁垒</strong>（B站的破圈之路）</p>
<p>互联网核心用户 460w (很长时间，微信红包很长一段时间内活跃用户数）)</p>
<p>微信红包 =》 春晚</p>
<p>从400万用户到一亿用户，靠<strong>春节</strong>这样一个核心场景<br>的触发完成。支付宝积累一亿用户用了多久呢？大概是8年，而微信支付是一天。</p>
<p>用户体验（五个具体方法，优化你的表达界面与产品体验）</p>
<h4 id="关键任务-关系系统生死的任务"><a href="#关键任务-关系系统生死的任务" class="headerlink" title="关键任务-关系系统生死的任务"></a>关键任务-关系系统生死的任务</h4><p>带领大家找到关键任务，穿越生死的能力，就是领导力。</p>
<p>普通员工：明确知晓有风险<br>项目经理：具备风险规避意识。<br>总监：有风控能力，有风险规避意识，明知有长线风险。无法避过时，知道如何组织大家做好突发预案。<br>总经理，能操作有风险的执行—-非生即死，富贵险中求</p>
<p>面对生死考验，依靠的不是管理能力，而是领导力。甄别<strong>关键任务</strong>，动员大家穿越生死。</p>
<h4 id="系统能力"><a href="#系统能力" class="headerlink" title="系统能力"></a>系统能力</h4><p>所有的产品都是系统能力的结果；我们要做的不是一个产品，而是建设一种能力，然后为你的用户提供确定性。</p>
<p>系统能力的效率优势、系统的迭代能力，都不是最后你呈现的产品表面能看得出来的，但是你的系统能力是你的产品能否存在的本质。</p>
<p>只要你在创业，终有一天会面临跨越生死。那个时候，副总裁、总监通通都帮不了你。这时能够支撑你的，是你对<strong>关键任务的甄别</strong>，你<strong>内心的确认感</strong>和你<strong>真正的兄弟</strong>。</p>
<hr>
<h3 id="用户体验"><a href="#用户体验" class="headerlink" title="用户体验"></a>用户体验</h3><p><img src="http://cdn.b5mang.com/202121910397.png" alt="用户体验]"></p>
<h4 id="用户体验的五个层次"><a href="#用户体验的五个层次" class="headerlink" title="用户体验的五个层次"></a>用户体验的五个层次</h4><p>情绪纠偏，认知纠偏，不再只从原生感受上来看问题。从用户的潜意识层面考虑，从用户的情绪出发，通过场景reach到用户的痛点、爽点、痒点。</p>
<p>不仅要仅仅考虑用户，用户的需求可能随着时间带来的趋势发生变化甚至消失，所以我们要顺势而为，“于万仞之上推千钧之石”，预测趋势，顺应趋势，抓住趋势。</p>
<p>【承上启下】厚积薄发，厚积在于建设系统能力，薄发在于提升用户体验。</p>
<p>用户体验有哪5个层次：</p>
<ul>
<li>战略存在层</li>
</ul>
<p>明确的回答两个问题：</p>
<ol>
<li>我们要通过这个产品得到什么？（对于企业的价值）</li>
<li>我们的用户要通过这个产品得到什么？他们为什么要依赖我们？ （对于用户的价值）</li>
</ol>
<ul>
<li>能力圈范围层</li>
</ul>
<p>围绕着清晰的战略，我们需要明确回答：</p>
<ol>
<li>我们要做到哪些事情，具体要提供什么样子的确定性？</li>
<li>我们不做那些事，对这些事坚决不碰。</li>
</ol>
<p>能力圈朝着战略的方向变化、拓展。</p>
<ul>
<li>资源结构层</li>
</ul>
<p>资源：毛泽东一句话定义了“资源”，就是“谁是我们的敌人，谁是我们的朋友”。</p>
<p>建设资源与能力有关，更与战略有关。</p>
<ul>
<li>角色框架层</li>
</ul>
<p>用于网站是框架，用于用户是角色。</p>
<p>例如你跟空姐或者银行职员对话，她的反馈方式即是角色框定的。</p>
<ul>
<li>感知层</li>
</ul>
<p>精美的网站、简洁、体验</p>
<p>baidu 胜出 google，胜出在了资源层、能力圈层<br>google 胜出 yahoo，胜出在了框架层</p>
<h4 id="用户体验地图"><a href="#用户体验地图" class="headerlink" title="用户体验地图"></a>用户体验地图</h4><p>用户体验地图就是通过画一张图，用一种讲故事的方式，从一个特定用户的角度出发，记录下他与产品或者服务进行接触、进入、互动的完整过程。</p>
<p>如何画用户体验地图</p>
<ol>
<li>一个画像完整的人物角色（你对你的第一只羊，了解吗？）</li>
<li>清晰的描述用户的目标和预期（他为什么来到你的草地上？他买打孔机，不是为了用户打孔机，而是为了在墙上打个洞；吃饭的目的在于什么？吃饱还是营造气氛？）</li>
<li>服务触点（用户从接触你的服务，到实现他的目的，会跟你在产品上有哪些接触）</li>
<li>用户使用路径（用户逛宜家是使用路径，而到盒子前拿免费资料是触点）</li>
<li>用户情绪曲线（场景是要触发情绪的）</li>
</ol>
<p>一个好产品，是从一个好故事开始的。要讲好用户故事，而不要过分关注数据。</p>
<h4 id="服务蓝图"><a href="#服务蓝图" class="headerlink" title="服务蓝图"></a>服务蓝图</h4><p>CEO核心工作：定义战略、建设能力圈<br>服务设计蓝图：解决资源结构和角色框架的问题</p>
<p>用户体验地图，是以用户情绪为中心的，讲的是第一只羊如何才能玩得开心，具体在哪个点爽、哪个点不爽</p>
<p>而服务蓝图，则是以服务流程为中心的。你提供的产品，不可能满足用户所有的预期。资源有限，控制成本</p>
<p>服务蓝图到底要做什么：一眼，一条路、三个点</p>
<p>一眼：产品要第一时间让用户“一眼”看到自己的目标<br>一条路：产品要有一个清晰的路径，让用户能够知道如何使用你的服务，用来达到或者接近自己的目标。服务崩溃点<br>三个点：峰值、终值、忍耐底线<br>成本控制是本分，但是不能挑战用户的忍耐底线<br>峰终定律：体验最高峰（正面、负面）以及结束时的体验，难以忘记。</p>
<p><img src="http://cdn.b5mang.com/20213922230.png" alt="宜家的服务设计蓝图"></p>
<p>设计服务蓝图的核心在于：让你在资源有限的情况下，配置你的资源，在关节点上安排角色，保证整体服务路径不崩溃，尽量不要压倒用户的忍耐底线。然后，尽量集中资源，打造体验的峰值，最后在做一个体验终值的美好小尾巴。</p>
<h4 id="上瘾机制：用户激励系统"><a href="#上瘾机制：用户激励系统" class="headerlink" title="上瘾机制：用户激励系统"></a>上瘾机制：用户激励系统</h4><p>激励：完成预定动作，就能得到满足。</p>
<p>不确定的爽点 与 确定的爽点，就是用户体验地图情绪曲线。</p>
<p>游戏的动力，就是压力感突然被满足，压力释放的爽感、确定性的获得、激励的满足感和在一起，让一个人成瘾。</p>
<p>确定就是依赖；不确定就是伤害；一个确定性的丧失，无论大小都是非常难受的。</p>
<p>宏观视角<br>创新模式（五个创新模式，洞悉顶级公司的创新战略）</p>
<p><img src="http://cdn.b5mang.com/2021219103928.png" alt="创新模式"></p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/distributed_system/layered_architecture.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/distributed_system/layered_architecture.html" class="post-title-link" itemprop="url">分布式系统-分层与抽象</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-04 10:01:03 / Modified: 22:55:48" itemprop="dateCreated datePublished" datetime="2022-03-04T10:01:03+08:00">2022-03-04</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/distributed_system/layered_architecture.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/distributed_system/layered_architecture.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一个复杂的应用程序可能会有更多的中间层次，比如基于API的API，不过基本思想仍然是一样的：</p>
<p>每个层都通过提供一个<strong>明确的数据模型</strong>来<strong>隐藏更低层次中的复杂性</strong>。</p>
<p>这些抽象允许不同的人群有效地协作（例如数据库厂商的工程师和使用数据库的应用程序开发人员）。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/structure_algorithm/algorithm/dp/rob.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/structure_algorithm/algorithm/dp/rob.html" class="post-title-link" itemprop="url">变种题系列-打家劫舍</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2022-03-02 13:09:03" itemprop="dateCreated datePublished" datetime="2022-03-02T13:09:03+08:00">2022-03-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2022-11-19 11:46:25" itemprop="dateModified" datetime="2022-11-19T11:46:25+08:00">2022-11-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/structure_algorithm/algorithm/dp/rob.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/structure_algorithm/algorithm/dp/rob.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="普通版本打家劫舍"><a href="#普通版本打家劫舍" class="headerlink" title="普通版本打家劫舍"></a>普通版本打家劫舍</h3><p>普通DP，第i家抢还是不抢？</p>
<h3 id="环形版本打家劫舍"><a href="#环形版本打家劫舍" class="headerlink" title="环形版本打家劫舍"></a>环形版本打家劫舍</h3><p>思路：</p>
<p>由于首尾也属于相邻，因此需要分别判断，以第一家是否打劫分成两个问题</p>
<p>第一家抢：最后一家一定不能抢，从第0个到len-2做动态规划</p>
<p>第一家不抢：从1到len-1做动态规划</p>
<p>然后比较找出最大值</p>
<h3 id="二叉树版本打家劫舍"><a href="#二叉树版本打家劫舍" class="headerlink" title="二叉树版本打家劫舍"></a>二叉树版本打家劫舍</h3><p>不太像是一个DP问题，他的本质是一个DFS问题。</p>
<p>本质上所有的DP问题都可以看作DFS + 备忘录。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="https://neowei1987.github.io/backend_knowledge_architecture/server/thread_model/co_for_go.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="NeoWei">
      <meta itemprop="description" content="我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <#meta itemprop="name" content="Neo's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/backend_knowledge_architecture/server/thread_model/co_for_go.html" class="post-title-link" itemprop="url">高性能服务器系列-go的协程管理</a>
        </h2>

        <div class="post-meta">

	
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2022-03-02 09:04:36 / Modified: 09:18:10" itemprop="dateCreated datePublished" datetime="2022-03-02T09:04:36+08:00">2022-03-02</time>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine: </span>
    
    <a title="valine" href="/backend_knowledge_architecture/server/thread_model/co_for_go.html#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/backend_knowledge_architecture/server/thread_model/co_for_go.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>M(Machine)，可以理解成一个线程，真正执行P的线程。系统线程，想要在CPU上执行代码必须有线程，通过系统调用clone创建</p>
<p>P(Processor)，一个P表示一个逻辑处理器，用于调度G。每一个Processor有一个称为G的队列，队列里放了等待被调度运行的协程。M必须获得P才能执行P队列中的G代码，否则会陷入休眠</p>
<p>G，一段goroutine代码，放到P对应的队列上，等待被调度运行。代表一个计算任务，由代码和上下文（如当前代码执行的位置、栈信息、状态等）组成。</p>

      
    </div>

    
    
    

    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/34/">34</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



		  </div>
		  

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

		  

		</div>
        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">NeoWei</p>
  <div class="site-description" itemprop="description">我是一名服务端程序员，热衷于第一性原理，会在该博客中不定期分享自己关于后端服务、计算机系统乃至世界本质的思考，望多多交流！</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">340</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">61</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>



    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">NeoWei</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener external nofollow noreferrer" target="_blank">NexT.Pisces</a>
  </div>

<br>
<a href="https://beian.miit.gov.cn/" rel="external nofollow noreferrer"  style="color:#f72b07" target="_blank">沪ICP备2020030798号-1</a>
<br>

        


  <div style="display: none;">
    <script src="//s95.cnzz.com/z_stat.php?id=1279618438&web_id=1279618438"></script>
  </div>






      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>




  
<script src="/js/local-search.js"></script>













  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

  <script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-needmoreshare2@1/needsharebutton.min.js"></script>
  <script>
      pbOptions = {};
        pbOptions.iconStyle = "box";
        pbOptions.boxForm = "horizontal";
        pbOptions.position = "bottomCenter";
        pbOptions.networks = "Weibo,Wechat,Douban,QQZone,Twitter,Facebook";
      new needShareButton('#needsharebutton-postbottom', pbOptions);
  </script>

<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'uE8T6jDhH4vW6BtH143y72nw-gzGzoHsz',
      appKey     : '3xulfIcqN5mLqRSxptxvnamK',
      placeholder: "Just go go",
      avatar     : 'identicon',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
